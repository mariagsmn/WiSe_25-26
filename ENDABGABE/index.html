<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>AR Pet – Start Szene</title>
  <style>
      body { margin: 0; overflow: hidden; }
      #start-msg {
          position: fixed;
          top: 10px;
          left: 50%;
          transform: translateX(-50%);
          color: white;
          font-family: sans-serif;
          background: rgba(0,0,0,0.5);
          padding: 8px 14px;
          border-radius: 10px;
          z-index: 10;
      }
  </style>

  <!-- A-Frame + AR.js -->
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>

<body>
  <div id="start-msg">Richte die Kamera auf den Marker</div>

  <a-scene
  embedded
  vr-mode-ui="enabled: false"
  renderer="logarithmicDepthBuffer: true;"
  arjs="sourceType: webcam; facingMode: environment; debugUIEnabled: false;">

    <!-- Marker mit Button -->
    <a-marker type="pattern" url="https://mariagsmn.github.io/WiSe_25-26/ENDABGABE/assets/pattern-play-button.patt" id="marker" size="1">

      
      <!-- Start-Button (initial unsichtbar) -->
      <a-plane id="startBtn"
               class="clickable"
               color="#88c0fc"
               width="1.2"
               height="0.5"
               position="0 1 0"
               rotation="0 0 0"
               visible="false">
        <a-text value="Start Game"
                align="center"
                color="black"
                width="1.1"
                position="0 0 0.01">
        </a-text>
      </a-plane>

    </a-marker>

    <!-- Kamera + Cursor für Handy -->
    <a-entity camera look-controls>
      <a-cursor fuse="true" fuse-timeout="500" raycaster="objects: .clickable"></a-cursor>
    </a-entity>

  </a-scene>

  <!-- JS-Datei mit Marker-Logik -->
  <script src="scene.js"></script>

  <script>
  const marker = document.querySelector("#marker");

  marker.addEventListener("markerFound", () => {
    alert("Marker erkannt!");
    document.querySelector("#startBtn").setAttribute("visible", "true");
  });

  marker.addEventListener("markerLost", () => {
    alert("Marker verloren!");
    document.querySelector("#startBtn").setAttribute("visible", "false");
  });
</script>


</body>
</html>

</html>
